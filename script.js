// ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•´ ë™ì ìœ¼ë¡œ ì²˜ë¦¬í•œ ë¶€ë¶„ = ì´ 3êµ°ë° //

// 1. ë©”ì¸ ì˜ì—­ì˜ í…ìŠ¤íŠ¸ íƒ€ì´í•‘ íš¨ê³¼
// : í™”ë©´ì— ë³´ì—¬ì¤„ í…ìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ë°°ì—´ë¡œ ì €ì¥í•˜ê³ , ì¼ì • ì‹œê°„ë§ˆë‹¤ ë°˜ë³µí•˜ë©´ íƒ€ì´í•‘í•˜ë“¯ì´ í™”ë©´ì— ì¶œë ¥
// 2. í—¤ë” ì˜ì—­ì˜ ë””ìì¸ ë³€ê²½ íš¨ê³¼
// : í—¤ë” í´ë˜ìŠ¤ ì¶”ê°€ì™€ ì‚­ì œ íš¨ê³¼
// ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ìŠ¤í¬ë¡¤í•˜ë©´ í—¤ë” ì˜ì—­ì— ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•´ ë””ìì¸ì„ ë³€ê²½
// 3. ìŠ¤í¬ë¡¤ ì´ë™ íš¨ê³¼
// : ë¶€ë“œëŸ¬ìš´ ì´ë™ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼(behavior ì†ì„±ì´ ì‘ë™ë˜ëŠ” ì›¹ ë¸Œë¼ìš°ì €ì—ì„œë§Œ ì‘ë™ê°€ëŠ¥)
// í—¤ë” ë©”ë‰´ë¥¼ í´ë¦­í•˜ë©´ í˜ì´ì§€ ë‚´ë¶€ì˜ ë‹¤ë¥¸ ì˜ì—­ìœ¼ë¡œ ë¶€ë“œëŸ½ê²Œ ìŠ¤í¬ë¡¤ì´ ì´ë™

// ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜: í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ë©´ì„œ ë™ì‹œì— ì‹¤í–‰ê¹Œì§€ í•˜ëŠ” í•¨ìˆ˜
// í˜•ì‹ = (function(){í•¨ìˆ˜ ë‚´ìš© ì…ë ¥})();
// ì „ì—­ ìŠ¤ì½”í”„ê°€ ì˜¤ì—¼ë˜ëŠ” ê²ƒ ë°©ì§€ ê°€ëŠ¥
// í•œë²ˆ ì‹¤í–‰ë˜ê³  ë‚˜ë©´ ë©”ëª¨ë¦¬ì— ë°ì´í„°ê°€ ë‚¨ì•„ ìˆì§€ ì•ŠìŒ = ì´í›„ ì¬í˜¸ì¶œ ê°€ëŠ¥
(function () {
  // ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ í˜•íƒœë¡œ ì½”ë“œë¥¼ ê°ì‹¸ì£¼ì–´ ì‘ì„±í•œ ì½”ë“œë¥¼ ì •ë¦¬
  // í…ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  span ìš”ì†Œ ë…¸ë“œ ê°€ì ¸ì˜¤ê¸°
  const spanEl = document.querySelector("main h1 span");

  // ì‘ì„±í•  ë¬¸ì¥ì„ ë°°ì—´ë¡œ ì •ì˜í•´ txtArr ë³€ìˆ˜ì— í• ë‹¹(í™”ë©´ì— í‘œì‹œí•  ë¬¸ì¥ ë°°ì—´)
  const txtArr = [
    "ğŸ‘‹HELLO!ğŸ¤ ",
    "ğŸ’»I'M A FRONT-END DEVELOPER.ğŸ‘¨â€ğŸ’»",
    "ğŸ˜®BUT ALSOğŸ¤”",
    "ğŸ’¥I'M STRONG-WILLED.ğŸ’–",
    "ğŸ˜®WHAT'S MORE?ğŸ¤”",
    "ğŸ¤ªI'M BULLDOZER-LIKE.ğŸ’ª",
    "I GO MY ALL IN TO MAKE IT.ğŸ†ğŸ˜",
    "ğŸ™WHATEVER IT TAKES.ğŸ™",
    "âœ¨I'M READY TO GO!ğŸ˜",
    "ğŸ‘SEE YOU AROUND!ğŸ––"
  ];

  // ì¸ë±ìŠ¤ ì´ˆê¸°ê°’ë„ index ë³€ìˆ˜ì— í• ë‹¹í•´ ë°°ì—´ì˜ ì²«ë²ˆì§¸ ìš”ì†Œì— ì ‘ê·¼íˆê²Œ í•¨(ë°°ì—´ì˜ ì¸ë±ìŠ¤ ë²ˆí˜¸ 0ë²ˆ)
  let index = 0;

  // í™”ë©´ì— í‘œì‹œí•  ë¬¸ì¥ ë°°ì—´ì—ì„œ ìš”ì†Œë¥¼ í•˜ë‚˜ ê°€ì ¸ì˜¨ ë’¤, ë°°ì—´ë¡œ ë§Œë“¤ê¸°
  // í…ìŠ¤íŠ¸ê°€ ì…ë ¥ë˜ëŠ” íš¨ê³¼ì˜ í•µì‹¬ì€ currentTxt ë³€ìˆ˜ì— í• ë‹¹ë˜ ë°°ì—´ ìš”ì†Œë¥¼ ì•ì—ì„œë¶€í„° í•œ ê°œì”© ì¶œë ¥í•˜ëŠ” ê²ƒ
  // ê·¸ëŸ¬ë©´ ë§ˆì¹˜ í…ìŠ¤íŠ¸ê°€ í•œ ê¸€ìì”© ì‘ì„±ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ê²Œ ë¨
  // ì´ë¥¼ ìœ„í•´ ë‹¤ìŒì²˜ëŸ¼ writeTxt() í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë°°ì—´ ìš”ì†Œë¥¼ í•œ ê°œì”© ì¶œë ¥í•˜ê²Œ í•¨
  let currentTxt = txtArr[index].split("");

  // í…ìŠ¤íŠ¸ ì…ë ¥ íš¨ê³¼ êµ¬í˜„
  // í…ìŠ¤íŠ¸ê°€ ì…ë ¥ë˜ëŠ” íš¨ê³¼ì˜ í•µì‹¬ì€ currentTxt ë³€ìˆ˜ì— í• ë‹¹ëœ ë°°ì—´ ìš”ì†Œë¥¼ ì•ì—ì„œë¶€í„° í•œ ê°œì”© ì¶œë ¥í•˜ëŠ” ê²ƒ
  // ê·¸ëŸ¬ë©´ ë§ˆì¹˜ í…ìŠ¤íŠ¸ê°€ í•œ ê¸€ìì”© ì‘ì„±ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ê²Œ ë¨
  // ì´ë¥¼ ìœ„í•´ ë‹¤ìŒì²˜ëŸ¼ writeTxt() í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë°°ì—´ ìš”ì†Œë¥¼ í•œ ê°œì”© ì¶œë ¥í•˜ê²Œ í•¨
  function writeTxt() {
    spanEl.textContent += currentTxt.shift(); // ë°°ì—´ì˜ ë§¨ ì•ìš”ì†Œë¥¼ ì¶”ì¶œí•˜ê³  ì¶”ì¶œí•œ ìš”ì†Œë¥¼ ì›ë³¸ ë°°ì—´ì—ì„œ ì‚­ì œ
    if (currentTxt.length != 0) {
      // ë³€ìˆ˜ì— í• ë‹¹ê´¸ ë°°ì—´ì˜ ê¸¸ì´ê°€ 0ì¸ì§€ í™•ì¸ í›„, 0ì´ ì•„ë‹ˆë¼ë©´ ë°˜ë³µ ì¶œë ¥í•´ì¤Œ
      setTimeout(writeTxt, Math.floor(Math.random() * 100)); // ì‹¤í–‰ ì‹œê°„ ë¬´ì‘ìœ„ ì„¤ì •
    } else {
      // elseë¬¸ ì‹¤í–‰ = ë°°ì—´ì˜ ê¸¸ì´ê°€ 0ì´ ë¨ = ë°°ì—´ì˜ ëª¨ë“  í…ìŠ¤íŠ¸ ì¶œë ¥ ì™„ë£Œ =  1.5ì´ˆ ë’¤ í…ìŠ¤íŠ¸ ì‚­ì œ
      currentTxt = spanEl.textContent.split("");
      setTimeout(deleteTxt, 1500);
    }
  }

  // í…ìŠ¤íŠ¸ ì‚­ì œ íš¨ê³¼ êµ¬í˜„
  // í…ìŠ¤íŠ¸ ì‚­ì œëŠ” ì…ë ¥ ê³¼ì •ê³¼ ë¹„ìŠ·
  // í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•  ë•ŒëŠ” ë°°ì—´ì˜ ì•ì—ì„œë¶€í„° ìš”ì†Œë¥¼ ì¶”ì¶œí•´ í•œ ê¸€ìì”© ì¶œë ¥,
  // í…ìŠ¤íŠ¸ë¥¼ ì‚­ì œí•  ë•ŒëŠ” ë’¤ì—ì„œë¶€í„° ìš”ì†Œë¥¼ ì¶”ì¶œí•´ í•œ ê¸€ìì”© ì¤„ì–´ë“œëŠ” ê²ƒì²˜ëŸ¼ í‘œí˜„
  function deleteTxt() {
    currentTxt.pop(); // pop ë©”ì„œë“œë¥¼ ì´ìš©í•´ ë°°ì—´ ìš”ì†Œë¥¼ ëì—ì„œë¶€í„° í•œ ê°œì”© ì›ë³¸ ë°°ì—´ì—ì„œ ì‚­ì œ
    spanEl.textContent = currentTxt.join(""); // í˜„ì¬ ë°°ì—´ì— ìˆëŠ” ìš”ì†Œë¥¼ í•˜ë‚˜ì˜ ë¬¸ìì—´ë¡œ í•©ì¹¨, ì‚¬ìš©ì ëˆˆì—ëŠ” í•œ ê¸€ìê°€ ì‚­ì œëœ ê²ƒì²˜ëŸ¼ ë³´ì„
    if (currentTxt.length != 0) {
      // ë³€ìˆ˜ì— í• ë‹¹ëœ ë°°ì—´ì˜ ê¸¸ì´ê°€ 0ì¸ì§€ í™•ì¸, ì•„ë‹ˆë¼ë©´ ë°˜ë³µ ì‚­ì œí•˜ì—¬ ì¶œë ¥í•´ì¤Œ
      setTimeout(deleteTxt, Math.floor(Math.random() * 100)); // ì‹¤í–‰ ì‹œê°„ ë¬´ì‘ìœ„ ì„¤ì •
    } else {
      index = (index + 1) % txtArr.length;
      currentTxt = txtArr[index].split("");
      console.log(currentTxt);
      writeTxt();
    }
  }
  writeTxt();
})();

// í—¤ë” ì˜ì—­ ìˆ˜ì§ ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ì„¤ì •
// ì›¹ ë¸Œë¼ìš°ì €ì˜ ìˆ˜ì§ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ëŠ” window ê°ì²´ì˜ pageYOffset ì†ì„±ìœ¼ë¡œ ì°¸ì¡° ê°€ëŠ¥
// ì†ì„±ê°’ì´ 0ë³´ë‹¤ í¬ë©´ ìŠ¤í¬ë¡¤ëë‹¤ê³  íŒë‹¨í•˜ì—¬ ì´ë¥¼ ì¡°ê±´ìœ¼ë¡œ ì²˜ë¦¬í•´ ifë¬¸ìœ¼ë¡œ
// active í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œ ê°€ëŠ¥
const headerEl = document.querySelector("header");
window.addEventListener("scroll", function () {
  requestAnimationFrame(scrollCheck);
});
function scrollCheck() {
  let browserScrollY = window.scrollY ? window.scrollY : window.pageXOffset;
  if (browserScrollY > 0) {
    headerEl.classList.add("active");
  } else {
    headerEl.classList.remove("active");
  }
}

/* ì• ë‹ˆë©”ì´ì…˜ ìŠ¤í¬ë¡¤ ì´ë™ */
const animationMove = function (selector) {
  // â‘  selector ë§¤ê°œë³€ìˆ˜ë¡œ ì´ë™í•  ëŒ€ìƒ ìš”ì†Œ ë…¸ë“œ ê°€ì ¸ì˜¤ê¸°
  const targetEl = document.querySelector(selector);
  // â‘¡ í˜„ì¬ ì›¹ ë¸Œë¼ìš°ì €ì˜ ìŠ¤í¬ë¡¤ ì •ë³´(y ê°’)
  const browserScrollY = window.pageYOffset;
  // â‘¢ ì´ë™í•  ëŒ€ìƒì˜ ìœ„ì¹˜(y ê°’)
  const targetScrollY = targetEl.getBoundingClientRect().top + browserScrollY;
  // â‘£ ìŠ¤í¬ë¡¤ ì´ë™
  window.scrollTo({ top: targetScrollY, behavior: "smooth" });
};

// ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ì—°ê²°í•˜ê¸°
const scrollMoveEl = document.querySelectorAll(
  "[data-animation-scroll='true']"
);
for (let i = 0; i < scrollMoveEl.length; i++) {
  scrollMoveEl[i].addEventListener("click", function (e) {
    const target = this.dataset.target;
    animationMove(target);
  });
}